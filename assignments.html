<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Data-Intensive Computing with MapReduce</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="assets/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
    <link href="assets/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!--link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png">
      <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png">
                    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png">
                                   <link rel="shortcut icon" href="assets/ico/favicon.png"-->
  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li><a href="index.html">Home</a></li>
              <li><a href="overview.html">Overview</a></li>
              <li><a href="syllabus.html">Syllabus</a></li>
              <li class="active"><a href="assignments.html">Assignments</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="container">

  <div class="page-header">
    <h1>Assignments <small>Data-Intensive Computing with MapReduce (Spring 2013)</small></h1>
  </div>

  <div class="subnav">
    <ul class="nav nav-pills">
      <li><a href="#assignment0">0</a></li>
      <li><a href="#assignment1">1</a></li>
      <li><a href="#assignment2">2</a></li>
      <li><a href="#assignment3">3</a></li>
      <li><a href="#assignment4">4</a></li>
      <li><a href="#assignment5">5</a></li>
      <li><a href="#assignment6">6</a></li>
      <li><a href="#finalproject">Final Project</a></li>
    </ul>
  </div>


<section id="assignment0" style="padding-top:35px">
<div>
<h3>Assignment 0: Prelude <small>due January 24</small></h3>

<p>Complete
the <a href="http://lintool.github.com/Cloud9/docs/word-count.html">word
count tutorial</a> in Cloud<sup>9</sup>, which is a Hadoop toolkit we're
going to use throughout the course. The tutorial will take you
through setting up Hadoop on your local machine and running Hadoop on
the virtual machine. It'll also begin familiarizing you with
GitHub.</p>

<p><b>Note:</b> This assignment is not explicitly graded, except as
part of Assignment 1.</p>

<p style="padding-top: 20px"><a href="#">Back to top</a></p>
</div>
</section>


<section id="assignment1" style="padding-top:35px">
<div>
<h3>Assignment 1: Warmup <small>due January 31</small></h3>

<p>Make sure you've completed
the <a href="http://lintool.github.com/Cloud9/docs/word-count.html">word
count tutorial</a> in Cloud<sup>9</sup>.</p>

<p>Sign up for a <a href="http://github.com/">GitHub</a> account. It is
very important that you do so as soon as possible, because GitHub is
the mechanism by which you will submit assignments. Once you've signed
up for an account, go to this page
to <a href="https://github.com/edu">request an educational
account</a>.</p>

<p>Next, create a <b>private</b> repo
called <code>MapReduce-assignments</code>. Here
is <a href="https://help.github.com/articles/create-a-repo">how you
create a repo on GitHub</a>. For "Who has access to this repository?",
make sure you click "Only the people I specify". If you've
successfully gotten an educational account (per above), you should be
able to create private repos for free. Take some time to learn about
git if you've never used it before. There are plenty of good tutorials
online: do a simple web search and find one you like. If you've used
svn before, many of the concepts will be familiar, except that git
is far more powerful.</p>

<p>After you've learned about git, set aside the repo for now; you'll
come back to it later.</p>

<p>In the single node virtual cluster in the word count tutorial, you
should have run the word count demo with five reducers:</p>

<pre>
etc/hadoop-cluster.sh edu.umd.cloud9.example.simple.DemoWordCount \
  -input bible+shakes.nopunc.gz -output wc -numReducers 5
</pre>

<p>Answer the following questions:</p>

<p><b>Question 1.</b> What is the first term
in <code>part-r-00000</code> and how many times does it appear?</p>

<p><b>Question 2.</b> What is the third to last term
in <code>part-r-00004</code> and how many times does it appear?</p>

<p><b>Question 3.</b> How many unique terms are there? (Hint: read the
counter values)</p>

<p>Let's do a little bit of cleanup of the words. Modify the word
count demo so that only words consisting entirely of letters are
counted. To be more specific, the word must match the following Java
regular expression:</p>

<pre>
word.matches("[A-Za-z]+")
</pre>

<p>Now run word count again, also with five reducers. Answer the
following questions:</p>

<p><b>Question 4.</b> What is the first term
in <code>part-r-00000</code> and how many times does it appear?</p>

<p><b>Question 5.</b> What is the third to last term
in <code>part-r-00004</code> and how many times does it appear?</p>

<p><b>Question 6.</b> How many unique terms are there?

<h4 style="padding-top: 10px">Turning in the Assignment</h4>

<p>Please follow these instructions carefully!</p>

<p>Per above, you should have a private GitHub repo called
<code>MapReduce-assignments</code>. Inside the repo, create a
directory called <code>assignment1</code>; in that directory, create a
file called <code>assignment1.md</code>. In that file, put your
answers to the above questions 1 through 6. Use the Markdown
annotation format: here's
a <a href="http://daringfireball.net/projects/markdown/basics">simple
guide</a>. Here's an <a href="http://markable.in/editor/">online
editor</a> that's also helpful.</p>

<p>Create a directory called <code>assignment1/src/</code> and
put your source code in there (i.e., the modified word count
demo).</p>

<p>Next, in the directory <code>assignment1/</code>, create a shell
script called <code>run-assignment1.sh</code>, which when executed
will run the code that answers questions 4 through 6 (i.e., modified
word count). When I check out your repo in my copy of the virtual
machine, I should be able to execute that script to run your code.</p>

<p>You can assume, just like in the the word count tutorial, that the
input file is already in HDFS
as <code>bible+shakes.nopunc.gz</code>. Your script should put the
word count output in a directory that is the same as your GitHub
username. Please don't name the output directory <code>output/</code>
or something generic.

<p>However you structure your repo to make the script work is up to
you. My recommendation would be to check in compiled jars into the
repo and then have <code>run-assignment1.sh</code> execute the
appropriate Hadoop command, but working out these details is part of the
assignment.</p>

<table><tr><td valign="top"><span class="label label-warning">Warning</span></td>
<td style="padding-left: 10px">Make sure your assignment <b>does
not</b> depend on any files or paths outside your repo. If you have a
hard-coded absolute path in your run script, for example, it will
probably break, since the same locations may not exist on my
machine. The only exception is the <code>bible+shakes.nopunc.gz</code>
data, which you can except to be in HDFS.</td></tr></table>

<p>In summary, there are three deliverables to this homework:</p>

<ul>

  <li><code>MapReduce-assignments/assignment1/assignment1.md</code>: actual answers to questions.</li>
  <li><code>MapReduce-assignments/assignment1/src/</code>: source code goes into this directory.</li>
  <li><code>MapReduce-assignments/assignment1/run-assignment1.sh</code>: run script.</li>

</ul>

<p>Make sure you've committed your code and pushed your repo back to
origin. You can verify that it's there by logging into your GitHub
account, and your assignment should be viewable in the web
interface.</p>

<p>Almost there! Add the
user <a href="https://github.com/teachtool">teachtool</a> a
collaborator to your repo so that I can check it out (under settings
in the main web interface on the top right corner of your repo). Note:
do <b>not</b> add my primary GitHub
account <a href="https://github.com/lintool">lintool</a> as a
collaborator.</p>

<p>Finally, send me an email, to jimmylin@umd.edu with the subject
line "MapReduce Assignment #1". In the body of the email message, tell
me what your GitHub username is so that I can link your repo to
you. Also, in your email please tell me how long you spent doing the
assignment, including everything (installing the VM, learning about
git, working through the tutorial, etc.).</p>

<h4 style="padding-top: 10px">Grading</h4>

<p>The purpose of this assignment is to familiarize you with the
Hadoop development environment. You'll get a "pass" if you've
successfully completed the assignment. I expect everyone to get a
"pass".</p>

<p style="padding-top: 20px"><a href="#">Back to top</a></p>
</div>
</section>


<section id="assignment2" style="padding-top:35px">
<div>
<h3>Assignment 2: Counting <small>due February 14</small></h3>

<h4>Setting Up Your Development Environment</h4>

<p>First, just so everyone's VM is sync'ed up, update all packages
via:</p>

<pre>
sudo yum update
</pre>

<p>Might take a bit, so grab a cup of coffee.</p>

<p>After the VM is updated, clone
the <a href="https://github.com/lintool/MapReduce-course-2013s">Git
repo for the course</a>. You'll find a
directory <code>assignments-stub/</code>, which provides a template
for your assignment. You can browse the contents of the directory on
the web
via <a href="https://github.com/lintool/MapReduce-course-2013s/tree/master/assignments-stub">this
link</a>. Copy the contents of the directory into your own assignments
private repo,
under <code>MapReduce-assignments/assignment2/</code>.
Note that the directory contains (normally invisible dot-files)
e.g., <code>.gitignore</code>; remember to copy those also.
Go ahead and
commit the contents so that you can revert to this point easily. Go
into <code>MapReduce-assignments/assignment2/</code>: you should be
able to type <code>ant</code> and successfully build the contents.</p>

<p>Since we're going to be working with this basic repository
structure for subsequent assignments, you should familiarize yourself
with the setup. Let's first take a tour: <a href="http://ant.apache.org/">Ant</a> is a build
system, and through <a href="http://ant.apache.org/ivy/">Ivy</a>, it
downloads all dependent jars and places them
in <code>lib/</code>. That is, all the jars in <code>lib/</code> are
automatically placed there&mdash;you shouldn't ever need to worry
about copying jars there directly. Also, <code>lib/</code> should <b>not</b>
be placed under version control.</p>

<p>How does Ivy know what dependencies to pull in? This is specified
in <code><a href="https://github.com/lintool/MapReduce-course-2013s/blob/master/assignments-stub/ivy/ivy.xml">ivy/ivy.xml</a></code>,
in this line:</p>

<pre>
&lt;dependency org="edu.umd" name="cloud9" rev="1.4.7" conf="*->*,!sources,!javadoc"/&gt;
</pre>

<p>Ivy automatically finds and downloads Cloud<sup>9</sup> and
transitively pulls its dependencies also. Add to this file if you want
to use any external libraries.</p>

<p>Source code is kept in <code>src/</code>: main code goes
into <code><a href="https://github.com/lintool/MapReduce-course-2013s/blob/master/assignments-stub/src/main">src/main/</a></code>,
JUnit tests go
into <code><a href="https://github.com/lintool/MapReduce-course-2013s/blob/master/assignments-stub/src/test">src/test/</a></code>. There
are source code stubs to get you started. If you use Eclipse as your
IDE, you should be able to directly import the project.</p>

<p>After Ant successfully completes the build, the packaged jar is
created in <code>dist/</code>. Note that <code>dist/</code>
should <b>not</b> be placed under version control since it should be
built automatically.</p>

<p>For your convenience, <code>ant</code> generates four run scripts
in <code>etc/</code>:</p>

<p>Use <code>run.sh</code> to run any normal Java class with
a <code>main</code>, e.g.:</p>

<pre>
etc/run.sh HelloWorld
</pre>

<p>Use <code>junit.sh</code> to run a specific JUnit test, e.g.:</p>

<pre>
etc/junit.sh SampleTest
</pre>

<p>Use <code>hadoop-local.sh</code> to run a Hadoop job in local
(standalone) mode, e.g.:</p>

<pre>
etc/hadoop-local.sh WordCount -input bible+shakes.nopunc.gz -output wc
</pre>

<p>Use <code>hadoop-cluster.sh</code> to run a Hadoop job in the VM in
pseudo-distributed mode, e.g.:</p>

<pre>
etc/hadoop-cluster.sh WordCount -input bible+shakes.nopunc.gz -output wc -numReducers 5
</pre>

<p>Ant provides a couple other useful features. To run all test
cases:</p>

<pre>
ant test
</pre>

<p>If you're getting an error along the lines of "the class
org.apache.tools.ant.taskdefs.optional.junit.JUnitTask was not found"
or "java.lang.ClassNotFoundException:
org.apache.tools.ant.taskdefs.optional.TraXLiaison", do:</p>

<pre>
sudo yum install ant-junit
sudo yum install ant-trax
</pre>

<p>To generate Javadoc:</p>

<pre>
ant javadoc
</pre>

<p>The API docs will be deposited in <code>docs/api/</code>.</p>

<h4 style="padding-top: 10px">The Assignment</h4>

<p>Stay tuned!</p>


<h4 style="padding-top: 10px">Tips</h4>

<p>Stay tuned!</p>

<!-- Have access to Cloud9

Eclipse, rsync, build -->


<h4 style="padding-top: 10px">Turning in the Assignment</h4>

<p>Stay tuned!</p>
<!--p>Kill your ivy cache.</p-->


<h4 style="padding-top: 10px">Grading</h4>

<p>Stay tuned!</p>


<p style="padding-top: 20px"><a href="#">Back to top</a></p>
</div>
</section>


<section id="assignment3" style="padding-top:35px">
<div>
<h3>Assignment 3: Inverted Indexing <small>due February 28</small></h3>

<h4>Setting Up Your Development Environment</h4>

<p>Before you begin, update all packages in the VM:</p>

<pre>
sudo yum update
</pre>

<p>In your private repo,
create <code>MapReduce-assignments/assignment3/</code>. Pull the
<a href="https://github.com/lintool/MapReduce-course-2013s">Git repo
for the course</a> to make sure you have the latest updates.  Copy
the contents of <code>assignments-stub/</code>
into <code>MapReduce-assignments/assignment3/</code>. Make sure you have
the latest version of the files: <b>do not</b> just copy files from
<code>MapReduce-assignments/assignment2/</code> because you may not
get the latest code updates.</p>

<h4 style="padding-top: 10px">The Assignment</h4>

<p>This assignment begins with an optional <i>but recommended</i>
component: complete
the <a href="http://lintool.github.com/Cloud9/docs/exercises/indexing.html">inverted
indexing exercise</a>
and <a href="http://lintool.github.com/Cloud9/docs/exercises/retrieval.html">boolean
retrieval exercise</a> in Cloud<sup>9</sup>. The solution is already
checked in the repo, so it won't be graded. However, the rest of the
assignment builds from there. Even if you decide not to write code for
those two exercises, take some time to sketch out what the solution
would look like. The exercises are designed to help you learn: jumping
directly to the solution defeats the purpose.</p>

<p>Starting from the inverted indexing baseline, modify the indexer
code in the two following ways:</p>

<p><b>1. Index Compression.</b> The index should be compressed using
VInts: see <code>org.apache.hadoop.io.WritableUtils</code>. You should
also use gap-compression techniques as appropriate.</p>

<p><b>2. Scalability.</b> The baseline indexer implementation
currently buffers and sorts postings in the reducer, which as we
discussed in class is not a scalable solution. Address this
scalability bottleneck using techniques we discussed in class and in
the textbook.</p>

<p>Correspondingly, modify the
<code><a href="https://github.com/lintool/Cloud9/blob/master/src/dist/edu/umd/cloud9/example/ir/BooleanRetrieval.java">BooleanRetrieval</a></code>
program to read the new inverted indexes. After it runs, it should
return <b>exactly</b> the same output as before, but with the new
indexes.</p>

<p>Stay tuned for additional details!</p>

<h4 style="padding-top: 10px">Turning in the Assignment</h4>

<p>Stay tuned!</p>

<h4 style="padding-top: 10px">Grading</h4>

<p>Stay tuned!</p>


<p style="padding-top: 20px"><a href="#">Back to top</a></p>
</div>
</section>


<section id="assignment4" style="padding-top:35px">
<div>
<h3>Assignment 4: Graphs <small>due March 14</small></h3>


<p style="padding-top: 20px"><a href="#">Back to top</a></p>
</div>
</section>


<section id="assignment5" style="padding-top:35px">
<div>
<h3>Assignment 5: Project Proposal <small>due April 4</small></h3>


<p style="padding-top: 20px"><a href="#">Back to top</a></p>
</div>
</section>


<section id="assignment6" style="padding-top:35px">
<div>
<h3>Assignment 6: Relational Processing <small>due April 18</small></h3>


<p style="padding-top: 20px"><a href="#">Back to top</a></p>
</div>
</section>


<section id="finalproject" style="padding-top:35px">
<div>
<h3>Final Project <small>presentations on May 2 and May 9</small></h3>


<p style="padding-top: 20px"><a href="#">Back to top</a></p>
</div>
</section>


<p style="padding-top:100px" />

    </div> <!-- /container -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="assets/js/jquery.js"></script>
    <script src="assets/js/bootstrap-transition.js"></script>
    <script src="assets/js/bootstrap-alert.js"></script>
    <script src="assets/js/bootstrap-modal.js"></script>
    <script src="assets/js/bootstrap-dropdown.js"></script>
    <script src="assets/js/bootstrap-scrollspy.js"></script>
    <script src="assets/js/bootstrap-tab.js"></script>
    <script src="assets/js/bootstrap-tooltip.js"></script>
    <script src="assets/js/bootstrap-popover.js"></script>
    <script src="assets/js/bootstrap-button.js"></script>
    <script src="assets/js/bootstrap-collapse.js"></script>
    <script src="assets/js/bootstrap-carousel.js"></script>
    <script src="assets/js/bootstrap-typeahead.js"></script>

  </body>
</html>
